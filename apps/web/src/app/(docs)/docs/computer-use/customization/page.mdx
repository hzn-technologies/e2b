# Install custom apps & packages

You can install custom apps and packages in the desktop sandbox the similar way you can install custom apps and packages in the E2B Sandbox [via templates](/docs/sandbox-template).


## How to install custom apps & packages

**Steps**
1. [Install E2B CLI](#1-install-e2b-cli)
1. [Initialize sandbox template](#2-initialize-sandbox-template)
1. [Customize `e2b.Dockerfile`](#3-customize-e2bdockerfile)
1. [Build your sandbox template](#4-build-your-sandbox-template)
1. [Start your custom sandbox](#5-start-your-custom-sandbox)


### 1. Install E2B CLI
Install E2B CLI with npm:
<CodeGroup isTerminalCommand>
```bash
npm i @e2b/cli
```
</CodeGroup>

### 2. Initialize sandbox template
The following command will create a basic `e2b.Dockerfile` in the current directory.

<CodeGroup isTerminalCommand>
```bash
e2b template init --desktop
```
</CodeGroup>

### 3. Customize `e2b.Dockerfile`
Now you can customize your sandbox template by editing the `e2b.Dockerfile` file.
<CodeGroup title="e2b.Dockerfile">
```bash
# Make sure to use the desktop base image
FROM e2bdev/desktop:latest # $HighlightLine

# Install vscode
RUN apt update -y \ # $HighlightLine
  && apt install -y software-properties-common apt-transport-https wget \ # $HighlightLine
  && wget -qO- https://packages.microsoft.com/keys/microsoft.asc | apt-key add - \ # $HighlightLine
  && add-apt-repository -y "deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main" \ # $HighlightLine
  && apt update -y \ # $HighlightLine
  && apt install -y code # $HighlightLine
```
</CodeGroup>

### 4. Build your sandbox template
Now you can build your sandbox template. We'll use Docker and the E2B CLI.
What is going to happen is that E2B CLI will call Docker to build the image and then push it to the E2B cloud.
Then we convert the Docker image to a micro VM that can be then launched as a sandbox with our SDK.

<CodeGroup isTerminalCommand>
```bash
e2b template build
```
</CodeGroup>

This process will take a moment. In the end, you'll see your template ID that you'll need to use to create a sandbox with the SDK.

### 5. Start your custom sandbox
Now you can use the template ID to create a sandbox with the SDK.

<CodeGroup>
```javascript {{ language: 'js' }}
import { Sandbox } from '@e2b/desktop'

// Your template ID from the previous step
const templateID = 'id-of-your-template' // $HighlightLine
// Pass the template ID to the `Sandbox.create` method
const desktop = await Sandbox.create(templateID) // $HighlightLine

// Start VSCode that we installed in the template
await desktop.commands.run("code", { background: true })
// Sleep for 3 seconds to wait for vscode to start
await new Promise((resolve) => setTimeout(resolve, 3000))
await desktop.screenshot('vscode.png')
```
```python {{ language: 'python' }}
from e2b_desktop import Sandbox

# Your template ID from the previous step
template_id = 'id-of-your-template' # $HighlightLine
# Pass the template ID to the sandbox constructor
desktop = Sandbox(template_id) # $HighlightLine

# Start VSCode that we installed in the template
desktop.commands.run("code", background=True)
# Sleep for 3 seconds to wait for vscode to start
import time
time.sleep(3)
desktop.screenshot('vscode.png')
```
</CodeGroup>
